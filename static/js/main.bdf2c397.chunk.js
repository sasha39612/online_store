(this.webpackJsonponline_store=this.webpackJsonponline_store||[]).push([[0],{20:function(e,c,t){},22:function(e,c,t){},23:function(e,c,t){},24:function(e,c,t){},25:function(e,c,t){},34:function(e,c,t){"use strict";t.r(c);var n=t(1),r=t.n(n),a=t(15),i=t(13),s=t.n(i),o=t(6),l=t(12),u=t(2),j=(t(20),t(0)),d=function(e){var c=e.good,t=c.name,n=c.image,r=c.description,a=c.price;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("li",{className:"catalog__card card",children:[Object(j.jsxs)("div",{className:"card__photo",children:["string"===typeof n&&Object(j.jsx)("img",{src:"../../images/".concat(n),alt:t,className:"card__photo-img"}),"object"===typeof n&&Object(j.jsx)("img",{src:URL.createObjectURL(n),alt:t,className:"card__photo-img"})]}),Object(j.jsx)("h2",{className:"card__title",children:t}),Object(j.jsxs)("div",{className:"card__price",children:[Object(j.jsx)("div",{className:"card__price-name",children:"\u0426\u0435\u043d\u0430: "}),Object(j.jsx)("div",{className:"card__price-value",children:a})]}),Object(j.jsx)("a",{href:"#",className:"card__button","data-qa":"card-hover",children:"\u043a\u0443\u043f\u0438\u0442\u044c"}),Object(j.jsx)("div",{className:"card__description display-none",children:r})]})})},b=(t(22),r.a.memo((function(e){var c=e.goods;return Object(j.jsx)("ul",{className:"cards",children:c.map((function(e){return Object(j.jsx)(d,{good:e},e.id)}))})}))),p=function(){return fetch("../products.json").then((function(e){if(e.ok)return e.json();throw"".concat(e.status," - ").concat(e.statusText)}))},_=(t(23),function(e){var c=e.onAdd,t=Object(n.useState)(""),r=Object(u.a)(t,2),a=r[0],i=r[1],s=Object(n.useState)(""),o=Object(u.a)(s,2),l=o[0],d=o[1],b=Object(n.useState)(""),p=Object(u.a)(b,2),_=p[0],m=p[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),f=O[0],x=O[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{className:"newGoods",onSubmit:function(e){e.preventDefault();var t={id:+new Date,name:a,image:l,description:_,price:+f};c(t),i(""),x(""),d(""),m("")},children:[Object(j.jsxs)("label",{htmlFor:"newGoods__name",className:"newGoods__name-label",children:["\u0418\u043c\u044f\xa0\xa0",Object(j.jsx)("input",{type:"text",id:"newGoods__name",placeholder:"Name",required:!0,value:a,onChange:function(e){return i(e.target.value)}})]}),Object(j.jsxs)("label",{htmlFor:"newGoods__price",className:"newGoods__name-price",children:["\u0426\u0435\u043d\u0430\xa0",Object(j.jsx)("input",{type:"number",id:"newGoods__price",placeholder:"1000",required:!0,step:"100",value:f,onChange:function(e){return x(e.target.value)}})]}),Object(j.jsxs)("div",{className:"newGoods__picture-container",children:[Object(j.jsx)("span",{children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),"\xa0\xa0",Object(j.jsx)("label",{htmlFor:"newGoods__picture-file",className:"newGoods__picture",style:{background:"grey",padding:"5px 10px"},children:"+"}),Object(j.jsx)("input",{id:"newGoods__picture-file",className:"newGoods__picture-file",style:{visibility:"hidden"},type:"file",onChange:function(e){return d(e.target.files[0])}})]}),Object(j.jsx)("label",{htmlFor:"newGoods__description",className:"newGoods__name-description",children:Object(j.jsx)("textarea",{type:"textarea",id:"newGoods__description",placeholder:"Description",required:!0,value:_,onChange:function(e){return m(e.target.value)}})}),Object(j.jsx)("button",{type:"submit",className:"newGoods__submit",children:"Save"})]})})}),m=(t(24),function(e,c,t){e.preventDefault(),c(t)}),h=function(e){var c=e.onFilter,t=e.onFilterCurrency,r=e.handleFilterPriceFrom,a=e.handleFilterPriceTo,i=Object(n.useState)("UAH"),s=Object(u.a)(i,2),o=s[0],l=s[1],d=function(e){if(0===e.localeCompare(o))return"...";t(e),l(e)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container__choose",children:[Object(j.jsxs)("div",{className:"container__price",children:[Object(j.jsx)("h3",{children:"\u0426\u0435\u043d\u0430"}),Object(j.jsxs)("div",{className:"container__price-limit",children:[Object(j.jsx)("span",{className:"container__price-from",children:"\u043e\u0442"}),Object(j.jsx)("span",{className:"container__price-to",children:"\u0434\u043e"}),Object(j.jsx)("input",{type:"number",className:"container__price-chooseFrom",placeholder:"1199",min:"0",step:"100",onChange:function(e){return r(e.target.value)}}),Object(j.jsx)("input",{type:"number",className:"container__price-chooseTo",placeholder:"29999",min:"0",step:"100",onChange:function(e){return a(e.target.value)}})]})]}),Object(j.jsx)("h3",{children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(j.jsxs)("div",{className:"container__currency",children:[Object(j.jsx)("button",{className:"container__USD buuton__currency",value:"USD",onClick:function(e){return d(e.target.value)},children:"USD"}),Object(j.jsx)("button",{className:"container__UAH buuton__currency",value:"UAH",onClick:function(e){return d(e.target.value)},children:"UAH"})]}),Object(j.jsx)("h3",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"}),Object(j.jsxs)("div",{className:"container__sort",children:[Object(j.jsxs)("label",{htmlFor:"increase__price1",className:"increase__price-label",children:[Object(j.jsx)("input",{type:"radio",name:"radio",id:"increase__price1",className:"increase__price",onClick:function(e){return m(e,c,"increasePrice")}}),"\xa0\u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u044b"]}),Object(j.jsxs)("label",{htmlFor:"increase__price2",className:"increase__price-label",children:[Object(j.jsx)("input",{type:"radio",name:"radio",id:"increase__price2",className:"increase__price",onClick:function(e){return m(e,c,"decreasePrice")}}),"\xa0\u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u044b"]}),Object(j.jsxs)("label",{htmlFor:"increase__price3",className:"increase__price-label",children:[Object(j.jsx)("input",{type:"radio",name:"radio",id:"increase__price3",className:"increase__price",onClick:function(e){return m(e,c,"alphabetic")}}),"\xa0\u043f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443"]})]})]})})};t(25);var O=function(){var e=function(e,c){var t=Object(n.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):c}catch(n){return console.log(n),c}})),r=Object(u.a)(t,2),a=r[0],i=r[1];return[a,function(c){try{var t=c instanceof Function?c(a):c;i(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}]}("goods",[]),c=Object(u.a)(e,2),t=c[0],r=c[1],a=Object(n.useState)(0),i=Object(u.a)(a,2),s=i[0],d=i[1],m=Object(n.useState)(0),O=Object(u.a)(m,2),f=O[0],x=O[1],g=Object(n.useState)(null),v=Object(u.a)(g,2),N=v[0],y=v[1],w=Object(n.useState)(!0),F=Object(u.a)(w,2),S=F[0],G=F[1];Object(n.useEffect)((function(){p().then((function(e){return r(e.products)}))}),[]),Object(n.useEffect)((function(){f||x(1e7)}),[t]);var C=S?t:t.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{price:Math.round(e.price/28)})})),k=function(){return C.filter((function(e){return e.price>=s&&e.price<=f}))},U=k();Object(n.useEffect)((function(){k()}),[t]),console.log(t,s,f);var P=function(){switch(N){case"increasePrice":return Object(o.a)(U).sort((function(e,c){return e.price-c.price}));case"decreasePrice":return Object(o.a)(U).sort((function(e,c){return c.price-e.price}));case"alphabetic":return Object(o.a)(U).sort((function(e,c){return e.name.localeCompare(c.name)}));default:return U}},A=P();return Object(j.jsxs)("main",{children:[Object(j.jsx)("header",{id:"pageHeader",children:Object(j.jsx)("h1",{children:"Online Stock"})}),Object(j.jsx)("section",{id:"mainSection",children:Object(j.jsx)(h,{onFilter:function(e){y(e)},onFilterCurrency:function(e){G(!S)},handleFilterPriceFrom:function(e){d(+e)},handleFilterPriceTo:function(e){x(+e)}})}),Object(j.jsx)("article",{id:"mainArticle",children:Object(j.jsx)(b,{goods:A})}),Object(j.jsx)("footer",{id:"pageFooter",children:Object(j.jsx)(_,{onAdd:function(e){r([].concat(Object(o.a)(t),[e])),P(),p()}})})]})};s.a.render(Object(j.jsx)(a.a,{children:Object(j.jsx)(O,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.bdf2c397.chunk.js.map