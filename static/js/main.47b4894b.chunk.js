(this.webpackJsonponline_store=this.webpackJsonponline_store||[]).push([[0],{20:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(15),i=c(13),s=c.n(i),o=c(6),l=c(12),u=c(2),d=(c(20),c(0)),j=function(e){var t=e.good,c=t.name,n=t.image,r=t.description,a=t.price;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("li",{className:"catalog__card card",children:[Object(d.jsxs)("div",{className:"card__photo",children:["string"===typeof n&&Object(d.jsx)("img",{src:"https://sasha39612.github.io/online_store/images/".concat(n),alt:c,className:"card__photo-img"}),"object"===typeof n&&Object(d.jsx)("img",{src:URL.createObjectURL(n),alt:c,className:"card__photo-img"})]}),Object(d.jsx)("h2",{className:"card__title",children:c}),Object(d.jsxs)("div",{className:"card__price",children:[Object(d.jsx)("div",{className:"card__price-name",children:"\u0426\u0435\u043d\u0430: "}),Object(d.jsx)("div",{className:"card__price-value",children:a})]}),Object(d.jsx)("a",{href:"#",className:"card__button","data-qa":"card-hover",children:"\u043a\u0443\u043f\u0438\u0442\u044c"}),Object(d.jsx)("div",{className:"card__description display-none",children:r})]})})},b=(c(22),r.a.memo((function(e){var t=e.goods;return Object(d.jsx)("ul",{className:"cards",children:t.map((function(e){return Object(d.jsx)(j,{good:e},e.id)}))})}))),p=function(){return fetch("https://sasha39612.github.io/online_store/Api/products.json").then((function(e){if(e.ok)return e.json();throw"".concat(e.status," - ").concat(e.statusText)}))},_=(c(23),function(e){var t=e.onAdd,c=Object(n.useState)(""),r=Object(u.a)(c,2),a=r[0],i=r[1],s=Object(n.useState)(""),o=Object(u.a)(s,2),l=o[0],j=o[1],b=Object(n.useState)(""),p=Object(u.a)(b,2),_=p[0],h=p[1],m=Object(n.useState)(""),O=Object(u.a)(m,2),f=O[0],x=O[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("form",{className:"newGoods",onSubmit:function(e){e.preventDefault();var c={id:+new Date,name:a,image:l,description:_,price:+f};t(c),i(""),x(""),j(""),h("")},children:[Object(d.jsxs)("label",{htmlFor:"newGoods__name",className:"newGoods__name-label",children:["\u0418\u043c\u044f\xa0\xa0",Object(d.jsx)("input",{type:"text",id:"newGoods__name",placeholder:"Name",required:!0,value:a,onChange:function(e){return i(e.target.value)}})]}),Object(d.jsxs)("label",{htmlFor:"newGoods__price",className:"newGoods__name-price",children:["\u0426\u0435\u043d\u0430\xa0",Object(d.jsx)("input",{type:"number",id:"newGoods__price",placeholder:"1000",required:!0,step:"100",value:f,onChange:function(e){return x(e.target.value)}})]}),Object(d.jsxs)("div",{className:"newGoods__picture-container",children:[Object(d.jsx)("span",{children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),"\xa0\xa0",Object(d.jsx)("label",{htmlFor:"newGoods__picture-file",className:"newGoods__picture",style:{background:"grey",padding:"5px 10px"},children:"+"}),Object(d.jsx)("input",{id:"newGoods__picture-file",className:"newGoods__picture-file",style:{visibility:"hidden"},type:"file",onChange:function(e){return j(e.target.files[0])}})]}),Object(d.jsx)("label",{htmlFor:"newGoods__description",className:"newGoods__name-description",children:Object(d.jsx)("textarea",{type:"textarea",id:"newGoods__description",placeholder:"Description",required:!0,value:_,onChange:function(e){return h(e.target.value)}})}),Object(d.jsx)("button",{type:"submit",className:"newGoods__submit",children:"Save"})]})})}),h=(c(24),function(e,t,c){e.preventDefault(),t(c)}),m=function(e){var t=e.onFilter,c=e.onFilterCurrency,r=e.handleFilterPriceFrom,a=e.handleFilterPriceTo,i=Object(n.useState)("UAH"),s=Object(u.a)(i,2),o=s[0],l=s[1],j=function(e){if(0===e.localeCompare(o))return"...";c(e),l(e)};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"container__choose",children:[Object(d.jsxs)("div",{className:"container__price",children:[Object(d.jsx)("h3",{children:"\u0426\u0435\u043d\u0430"}),Object(d.jsxs)("div",{className:"container__price-limit",children:[Object(d.jsx)("span",{className:"container__price-from",children:"\u043e\u0442"}),Object(d.jsx)("span",{className:"container__price-to",children:"\u0434\u043e"}),Object(d.jsx)("input",{type:"number",className:"container__price-chooseFrom",placeholder:"1199",min:"0",step:"100",onChange:function(e){return r(e.target.value)}}),Object(d.jsx)("input",{type:"number",className:"container__price-chooseTo",placeholder:"29999",min:"0",step:"100",onChange:function(e){return a(e.target.value)}})]})]}),Object(d.jsx)("h3",{children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(d.jsxs)("div",{className:"container__currency",children:[Object(d.jsx)("button",{className:"container__USD buuton__currency",value:"USD",onClick:function(e){return j(e.target.value)},children:"USD"}),Object(d.jsx)("button",{className:"container__UAH buuton__currency",value:"UAH",onClick:function(e){return j(e.target.value)},children:"UAH"})]}),Object(d.jsx)("h3",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"}),Object(d.jsxs)("div",{className:"container__sort",children:[Object(d.jsxs)("label",{htmlFor:"increase__price1",className:"increase__price-label",children:[Object(d.jsx)("input",{type:"radio",name:"radio",id:"increase__price1",className:"increase__price",onClick:function(e){return h(e,t,"increasePrice")}}),"\xa0\u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u044b"]}),Object(d.jsxs)("label",{htmlFor:"increase__price2",className:"increase__price-label",children:[Object(d.jsx)("input",{type:"radio",name:"radio",id:"increase__price2",className:"increase__price",onClick:function(e){return h(e,t,"decreasePrice")}}),"\xa0\u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u044b"]}),Object(d.jsxs)("label",{htmlFor:"increase__price3",className:"increase__price-label",children:[Object(d.jsx)("input",{type:"radio",name:"radio",id:"increase__price3",className:"increase__price",onClick:function(e){return h(e,t,"alphabetic")}}),"\xa0\u043f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443"]})]})]})})};c(25);var O=function(){var e=function(e,t){var c=Object(n.useState)((function(){try{var c=window.localStorage.getItem(e);return c?JSON.parse(c):t}catch(n){return console.log(n),t}})),r=Object(u.a)(c,2),a=r[0],i=r[1];return[a,function(t){try{var c=t instanceof Function?t(a):t;i(c),window.localStorage.setItem(e,JSON.stringify(c))}catch(n){console.log(n)}}]}("goods",[]),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(0),i=Object(u.a)(a,2),s=i[0],j=i[1],h=Object(n.useState)(0),O=Object(u.a)(h,2),f=O[0],x=O[1],g=Object(n.useState)(null),v=Object(u.a)(g,2),N=v[0],y=v[1],w=Object(n.useState)(!0),S=Object(u.a)(w,2),F=S[0],G=S[1];Object(n.useEffect)((function(){localStorage.goods?r(JSON.parse(localStorage.getItem("goods"))):p().then((function(e){return r(e.products)}))}),[]),Object(n.useEffect)((function(){f||x(1e7)}),[c]);var C=F?c:c.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{price:Math.round(e.price/28)})})),k=function(){return C.filter((function(e){return e.price>=s&&e.price<=f}))},U=k();Object(n.useEffect)((function(){k()}),[c]),console.log(c,s,f);var A=function(){switch(N){case"increasePrice":return Object(o.a)(U).sort((function(e,t){return e.price-t.price}));case"decreasePrice":return Object(o.a)(U).sort((function(e,t){return t.price-e.price}));case"alphabetic":return Object(o.a)(U).sort((function(e,t){return e.name.localeCompare(t.name)}));default:return U}},P=A();return Object(d.jsxs)("main",{children:[Object(d.jsx)("header",{id:"pageHeader",children:Object(d.jsx)("h1",{children:"Online Stock"})}),Object(d.jsx)("section",{id:"mainSection",children:Object(d.jsx)(m,{onFilter:function(e){y(e)},onFilterCurrency:function(e){G(!F)},handleFilterPriceFrom:function(e){j(+e)},handleFilterPriceTo:function(e){x(+e)}})}),Object(d.jsx)("article",{id:"mainArticle",children:Object(d.jsx)(b,{goods:P})}),Object(d.jsx)("footer",{id:"pageFooter",children:Object(d.jsx)(_,{onAdd:function(e){r([].concat(Object(o.a)(c),[e])),A(),p()}})})]})};s.a.render(Object(d.jsx)(a.a,{children:Object(d.jsx)(O,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.47b4894b.chunk.js.map