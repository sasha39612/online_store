{"version":3,"sources":["components/GoodItem/GoodItem.jsx","components/GoodsList/GoodsList.jsx","components/ApiGoods.jsx","components/NewGoods/NewGood.jsx","components/Selecters/Selecters.jsx","App.jsx","index.js"],"names":["GoodItem","good","name","image","description","price","className","src","alt","URL","createObjectURL","href","data-qa","GoodsList","React","memo","goods","map","id","getGoodsFromApi","fetch","then","response","ok","json","status","statusText","NewGood","onAdd","useState","setName","setImage","setDescription","setPrice","onSubmit","event","preventDefault","newGood","Date","htmlFor","type","placeholder","required","value","onChange","target","min","style","background","padding","visibility","files","handleFilter","callFilter","criteria","Selecters","onFilter","onFilterCurrency","handleFilterPriceFrom","handleFilterPriceTo","selecterCurrency","setSelecterCurrency","handleFilterCurrency","localeCompare","step","onClick","App","setGoods","priceFrom","setPriceFrom","priceTo","setPriceTo","valueSorted","setValueSorted","currencyBasic","setCurrencyBasic","useEffect","result","products","PriceChangeForRender","Math","ceil","sortByPrice","filter","sortByPriceForRendering","sortedProduct","sort","a","b","sortedProductToRender","command","selecter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7fae6880.chunk.js","sourcesContent":["import React from 'react';\nimport './GoodItem.scss';\n\nexport const GoodItem = ({ good }) => {\n  const {\n    name,\n    image,\n    description,\n    price,\n  } = good;\n\n  return (\n    <>\n      <li className=\"catalog__card card\">\n        <div className=\"card__photo\">\n          {(typeof(image) === 'string') && (\n            <img\n            src={`https://sasha39612.github.io/online_store/images/${image}`}\n            alt={name}\n            className=\"card__photo-img\"\n          />\n          )}\n          \n          {(typeof(image) === 'object') && (\n            <img\n            src={URL.createObjectURL(image)}\n            alt={name}\n            className=\"card__photo-img\"\n          />\n          )}\n          \n        </div>\n        <h2 className=\"card__title\">{name}</h2>\n        \n        <div className=\"card__price\">\n          <div className=\"card__price-name\">Цена: </div>\n          <div className=\"card__price-value\">{price}</div>\n        </div>\n\n        <a\n          href=\"#\"\n          className=\"card__button\"\n          data-qa=\"card-hover\"\n        >\n          купить\n        </a>\n\n        <div\n          className=\"card__description display-none\"\n        >\n          {description}\n        </div>\n    </li> \n  </>\n  )\n}\n","import React from 'react';\nimport { GoodItem } from '../GoodItem/GoodItem';\n\nimport './GoodsList.scss';\n\nexport const GoodsList = React.memo(({ goods }) => {\n\n  return (\n    \n    <ul className=\"cards\">\n      {goods.map(good => (\n        <GoodItem \n          good={good}\n          key={good.id}\n        />\n      ))}\n    </ul>\n  )\n});\n","\nconst request = () => {\n  return fetch('https://sasha39612.github.io/online_store/Api/products.json')\n\n  .then(response => {\n    if (response.ok) {\n      \n      return response.json();\n    }\n\n    throw `${response.status} - ${response.statusText}`\n  });\n};\n\nexport const getGoodsFromApi = () => {\n\n  return request()\n}\n","import React, { useState } from 'react';\n\nimport './NewGood.scss';\n\nexport const NewGood = ({ onAdd }) => {\n  const [name, setName] = useState('');\n  const [image, setImage] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState('');\n\n  const addNewGood = (event) => {\n    event.preventDefault();\n\n    const newGood = {\n      id: +new Date(),\n      name,\n      image,\n      description,\n      price: +price,\n    }\n\n    onAdd(newGood)\n\n    setName('');\n    setPrice('');\n    setDescription('')\n  }\n  \n  return (\n    <>\n      <form\n        className=\"newGoods\"\n        onSubmit={addNewGood}\n      >\n        <label\n          htmlFor=\"newGoods__name\"\n          className=\"newGoods__name-label\"\n        >\n          Имя&nbsp;&nbsp;\n          <input\n            type=\"text\"\n            id=\"newGoods__name\"\n            placeholder=\"Name\"\n            required\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          >\n          </input>\n        </label>\n\n        <label\n          htmlFor=\"newGoods__price\"\n          className=\"newGoods__name-price\"\n        >\n          Цена&nbsp;\n          <input\n            type=\"number\"\n            id=\"newGoods__price\"\n            placeholder=\"1000\"\n            required\n            min='0'\n            value={price}\n            onChange={(event) => setPrice(event.target.value)}\n          />\n          </label>\n\n        <div className=\"newGoods__picture-container\">\n          <span>Изображение</span>&nbsp;&nbsp;\n          <label\n            htmlFor=\"newGoods__picture-file\"\n            className=\"newGoods__picture\"\n            style={{ background:\"grey\", padding:\"5px 10px\" }}\n          >\n             +\n          </label>             \n            <input\n              id=\"newGoods__picture-file\"\n              className=\"newGoods__picture-file\"\n              style={{visibility:\"hidden\"}}\n              type={\"file\"}\n              onChange={(event) => setImage(event.target.files[0])}\n            >\n            </input>\n        </div>\n        \n      \n        <label\n          htmlFor=\"newGoods__description\"\n          className=\"newGoods__name-description\"\n        >\n          <textarea \n            type=\"textarea\"\n            id=\"newGoods__description\"\n            placeholder=\"Description\"\n            required\n            value={description}\n            onChange={(event) => setDescription(event.target.value)}\n            >\n          </textarea>\n        </label>\n\n        <button\n          type=\"submit\"\n          className=\"newGoods__submit\"\n        >\n          Save\n        </button>  \n      </form>\n    </>\n  )\n}\n","import React, { useEffect, useState } from 'react';\n\nimport \"./Selecters.scss\";\n\nconst handleFilter = (event, callFilter, criteria) => {\n  event.preventDefault();\n  callFilter(criteria);\n};\n\nexport const Selecters = ({ onFilter, onFilterCurrency, handleFilterPriceFrom, handleFilterPriceTo }) => {\n  const [selecterCurrency, setSelecterCurrency] = useState('UAH');\n\n  const handleFilterCurrency = (event) => {\n    if (event.localeCompare(selecterCurrency) === 0) {\n      return '...'\n    } else {\n      onFilterCurrency(event);\n\n      setSelecterCurrency(event);\n    }\n  }\n\n  return (\n    <>\n     <div className=\"container__choose\">\n          <div className=\"container__price\">\n            <h3>Цена</h3>\n            <div className=\"container__price-limit\">\n              <span className=\"container__price-from\">от</span>\n              <span className=\"container__price-to\">до</span>\n              <input\n                type=\"number\"\n                className=\"container__price-chooseFrom\"\n                placeholder=\"1199\"\n                min=\"0\"\n                step=\"100\"\n                onChange={event => handleFilterPriceFrom(event.target.value)}\n              >\n              </input>\n\n              <input\n                type=\"number\"\n                className=\"container__price-chooseTo\"\n                placeholder=\"29999\"\n                min=\"0\"\n                step=\"100\"\n                onChange={event => handleFilterPriceTo(event.target.value)}\n              >\n              </input>\n            </div>\n          </div>\n\n          <h3>Валюта</h3>\n          <div className=\"container__currency\">\n              <button\n                className=\"container__USD buuton__currency\"\n                value={\"USD\"}\n                onClick={event => handleFilterCurrency(event.target.value)}\n              >\n                USD\n              </button>\n              <button\n                className=\"container__UAH buuton__currency\"\n                value={'UAH'}\n                onClick={event => handleFilterCurrency(event.target.value)}\n              >\n                UAH\n              </button>\n          </div>\n\n          <h3>Сортировка</h3>\n          <div className=\"container__sort\">\n            <label\n              htmlFor=\"increase__price1\"\n              className=\"increase__price-label\"\n            >\n              <input\n                type=\"radio\"\n                name=\"radio\"\n                id=\"increase__price1\"\n                className=\"increase__price\"\n                onClick={event => handleFilter(event, onFilter, 'increasePrice')}\n              >\n              </input>\n              &nbsp;по возрастанию цены\n            </label>\n\n            <label\n              htmlFor=\"increase__price2\"\n              className=\"increase__price-label\"\n            >\n              <input\n                type=\"radio\"\n                name=\"radio\"\n                id=\"increase__price2\"\n                className=\"increase__price\"\n                onClick={event => handleFilter(event, onFilter, 'decreasePrice')}\n              >\n              </input>\n              &nbsp;по убыванию цены\n            </label>\n\n            <label\n              htmlFor=\"increase__price3\"\n              className=\"increase__price-label\"\n            >\n              <input\n                type=\"radio\"\n                name=\"radio\"\n                id=\"increase__price3\"\n                className=\"increase__price\"\n                onClick={event => handleFilter(event, onFilter, 'alphabetic')}\n              >\n              </input>\n              &nbsp;по алфавиту\n            </label>\n          </div>\n        </div>\n\n    </>\n  )\n}","import React, { useEffect, useMemo, useState } from 'react';\nimport { GoodsList } from './components/GoodsList/GoodsList';\nimport { getGoodsFromApi } from './components/ApiGoods';\nimport { NewGood } from './components/NewGoods/NewGood';\nimport { Selecters } from './components/Selecters/Selecters';\n\nimport './App.scss';\nconst currencyRate = 28;\n\nfunction App() {\n\nconst [goods, setGoods] = useState([]);\nconst [priceFrom, setPriceFrom] = useState(0);\nconst [priceTo, setPriceTo] = useState(0);\nconst [valueSorted, setValueSorted] = useState(null);\nconst [currencyBasic, setCurrencyBasic] = useState(true);\n\nuseEffect(() => {\n getGoodsFromApi()\n  .then(result => setGoods(result.products));\n}, []);\n\nuseEffect(() => {\n if (!priceTo) {\n  setPriceTo(10000000)\n }\n}, [goods]);\n\nconst handleFilterPriceFrom = (event) => {\n  setPriceFrom(+event);\n}\n\nconst handleFilterPriceTo = (event) => {\n  setPriceTo(+event);\n};\n\nconst priceChange = () => {\n  if (!currencyBasic) {\n    return (\n      goods.map(good => {\n    return {\n      ...good,\n      price: Math.ceil(good.price / currencyRate)\n    };\n  }))\n  }\n\n  return goods;\n };\n\nlet PriceChangeForRender = priceChange();\n\nlet sortByPrice = () => {\n  return PriceChangeForRender.filter(good => good.price >= priceFrom && good.price <= priceTo\n)};\n\nlet sortByPriceForRendering = sortByPrice();\n\nconst onFilter = (command) => {\n  setValueSorted(command);\n};\n\nuseEffect(() => {\n  sortByPrice(goods)\n}, [goods])\n\n\n const sortedProduct = () => {\n\n  switch(valueSorted) {\n    case 'increasePrice':\n\n    return [...sortByPriceForRendering].sort((a, b) => a.price - b.price)\n\n    case 'decreasePrice':\n\n      return [...sortByPriceForRendering].sort((a, b) => b.price - a.price)\n\n    case 'alphabetic':\n\n      return [...sortByPriceForRendering].sort((a, b) => a.name.localeCompare(b.name))\n\n    default:\n      return sortByPriceForRendering;\n  }\n};\n\nconst onFilterCurrency = (selecter) => {\n  if (selecter === 'USD') {\n    setCurrencyBasic(!currencyBasic);\n  } else {\n    setCurrencyBasic(!currencyBasic)\n  }\n};\n\nconst sortedProductToRender = sortedProduct();\n  \n\nconst goodAdd = (newGood) => {\n  setGoods([...goods, newGood]);\n\n  sortedProduct();\n  getGoodsFromApi();\n}\n\n  return (\n    <main>\n      <header id=\"pageHeader\">\n        <h1>Online Stock</h1>\n      </header>\n      <section id=\"mainSection\">\n       <Selecters\n        onFilter={onFilter}\n        onFilterCurrency={onFilterCurrency}\n        handleFilterPriceFrom={handleFilterPriceFrom}\n        handleFilterPriceTo={handleFilterPriceTo}\n       />\n      </section>\n\n      <article id=\"mainArticle\">\n        <GoodsList goods={sortedProductToRender}/>\n      </article>\n      \n      <footer id=\"pageFooter\">\n        <NewGood onAdd={goodAdd} />\n      </footer>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}